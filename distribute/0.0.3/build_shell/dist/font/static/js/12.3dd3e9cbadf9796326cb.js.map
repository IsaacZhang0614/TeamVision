{"version":3,"sources":["webpack:///./src/pages/project/ProjectCreateDialog.js","webpack:///src/pages/project/ProjectCreateDialog.vue","webpack:///./src/pages/project/ProjectCreateDialog.vue?f574","webpack:///./src/pages/project/ProjectCreateDialog.vue","webpack:///src/pages/project/ProjectList.vue","webpack:///./src/pages/project/ProjectList.vue?a675","webpack:///./src/pages/project/ProjectList.vue"],"names":["projectValidateRules","PBTitle","type","min","max","required","message","PBKey","pattern","trigger","PBPlatform","PBLead","Product","ProjectCreateDialog","name","data","userList","platforms","products","formItem","PBVisiableLevel","PBCreator","ruleCustom","extends_default","computed","Object","vuex_esm","containerHeight","this","appBodyHeight","methods","addProject","_this","$refs","validate","valid","$axios","post","then","response","setProjectCreateDialogShow","setProjectAdded","$Message","error","content","duration","cancel","created","_this2","get","result","mounted","watch","components","FormItem","form_item","project_ProjectCreateDialog","render","_vm","_h","$createElement","_c","_self","attrs","value","projectCreateDialogShow","title","width","styles","bottom","top","on","on-ok","on-cancel","style","ref","model","label-width","rules","label","prop","placeholder","callback","$$v","$set","expression","_v","filterable","_l","platform","key","id","DicDataValue","_s","DicDataName","user","last_name","first_name","email","product","PTitle","span","offset","vertical","size","staticStyle","color","padding-left","slot","height","shape","click","$event","_e","staticRenderFns","pages_project_ProjectCreateDialog","__webpack_require__","normalizeComponent","ssrContext","ProjectList","myProject","projectContainerHeight","myProjectList","projectSearchKey","initProjectDisplayStatus","filterProjectList","projectAdded","loadProjectList","i","length","temp","toUpperCase","indexOf","Display","setTaskChange","project_ProjectList","staticClass","project","float","margin","bordered","text-align","href","src","PBAvatar","padding-top","ProjectList_Component","ProjectList_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"font/static/js/12.3dd3e9cbadf9796326cb.js","sourcesContent":["//project validate rule\n\nlet projectValidateRules={\n  PBTitle: [\n    { type: 'string',min: 1, max: 50, required: true, message: '标题长度必须在1-50个字符！！' }\n  ],\n  PBKey: [\n    { type: 'string', required: true, min: 1, max: 10, pattern: /^[A-Z]+$/, message: 'Key必须是10个以内的大写英文字符！', trigger: 'blur' }\n  ],\n  PBPlatform: [\n    { type: 'integer', required: true,message: '请选择项目平台' }\n  ],\n  PBLead: [\n    { type: 'integer', required: true,message: '请选择项目负责人' }\n  ],\n  Product: [\n    { type: 'integer',required: true,message: '请选择产品线' }\n  ]\n}\n\nexport {\n  projectValidateRules\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/project/ProjectCreateDialog.js","<template>\n  <Modal :value=\"projectCreateDialogShow\" title=\"添加新项目\" :width=\"600\" @on-ok=\"addProject\" @on-cancel=\"cancel\"   :styles=\"{bottom:'20px',top: '50px'}\">\n    <div :style=\"'height:' + containerHeight + 'px;overflow-y: scroll;overflow-x: hidden'\">\n      <Form  ref=\"projectCreate\" :model=\"formItem\" :label-width=\"80\" :rules=\"ruleCustom\">\n        <FormItem label=\"项目名称\" prop=\"PBTitle\">\n          <Input v-model=\"formItem.PBTitle\" placeholder=\"项目名称1-50个字符\"/>\n        </FormItem>\n        <FormItem label=\"项目Key\" prop=\"PBKey\">\n          <Input v-model=\"formItem.PBKey\" placeholder=\"项目唯一标示，1-10英文字符\"/>\n        </FormItem>\n        <FormItem label=\"平台\" prop=\"PBPlatform\">\n          <Select v-model=\"formItem.PBPlatform\" :filterable=\"true\" placeholder=\"项目平台\">\n            <Option v-for=\"platform in platforms\" :key=\"platform.id\" :value=\"platform.DicDataValue\">{{ platform.DicDataName }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"负责人\" prop=\"PBLead\">\n          <Select v-model=\"formItem.PBLead\" :filterable=\"true\" placeholder=\"项目负责人\">\n            <Option v-for=\"user in userList\" :key=\"user.id\" :value=\"user.id\">{{ user.last_name }}{{ user.first_name }} ({{ user.email }})</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"产品线\" prop=\"Product\">\n          <Select v-model=\"formItem.Product\" :filterable=\"true\" placeholder=\"任务类型\">\n            <Option v-for=\"product in products\" :key=\"product.id\" :value=\"product.id\">{{ product.PTitle }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"可见性\" prop=\"PBVisiableLevel\">\n          <Row>\n            <Col span=\"8\" offset=\"0\">\n            <RadioGroup v-model=\"formItem.PBVisiableLevel\" vertical>\n              <Radio :label=\"1\">\n                <Icon type=\"locked\" :size=\"20\" ></Icon>\n                <span>私有</span>\n                <span style=\"color:#737373;padding-left: 20px;\">项目仅自己可见</span>\n              </Radio>\n              <Radio :label=\"2\">\n                <Icon type=\"contrast\" :size=\"20\"></Icon>\n                <span>内部</span>\n                <span style=\"color:#737373;padding-left: 20px;\">项目可以被同组成员看到</span>\n              </Radio>\n              <Radio :label=\"3\">\n                <Icon type=\"ios-world\" :size=\"20\"></Icon>\n                <span>公开</span>\n                <span style=\"color:#737373;padding-left: 20px;\"  >项目对所有人员可见</span>\n              </Radio>\n            </RadioGroup>\n            </Col>\n          </Row>\n        </FormItem>\n      </Form>\n    </div>\n    <div slot=\"footer\">\n      <Button v-if=\"projectCreateDialogShow\" type=\"success\"  style=\"width: 80px; height:30px;\" shape=\"circle\" @click=\"addProject('projectCreate')\">添加</Button>\n      <!--<Button type=\"ghost\"  style=\"width: 80px; height:30px;\"  shape=\"circle\" @click=\"cancel\">取消</Button>-->\n    </div>\n</Modal>\n</template>\n\n<script>\nimport { mapGetters,mapMutations } from 'vuex'\nimport { projectValidateRules } from './ProjectCreateDialog'\nimport FormItem from '../../../node_modules/iview/src/components/form/form-item.vue'\n\n  export default {\n    name: 'ProjectCreateDialog',\n    data () {\n      return {\n        userList: [],\n        platforms: [],\n        products: [],\n        formItem: {\n          PBTitle: '',\n          PBKey: '',\n          PBLead: 1,\n          PBPlatform: 1,\n          Product: 1,\n          PBVisiableLevel: 1,\n          PBCreator: 0\n        },\n        ruleCustom: {\n          ...projectValidateRules\n        }\n      }\n\n    },\n    computed: {\n      ...mapGetters('project',['projectCreateDialogShow']),\n      ...mapGetters(['appBodyHeight']),\n      containerHeight: function () {\n        return this.appBodyHeight-100\n      },\n    },\n    methods:\n      {\n        ...mapMutations('project', ['setProjectCreateDialogShow', 'setProjectAdded']),\n        addProject (name) {\n          this.$refs[name].validate((valid) => {\n            if (valid) {\n              this.$axios.post('/api/project/list', this.formItem).then(response => {\n                this.setProjectCreateDialogShow(false)\n                this.setProjectAdded(true)\n              }, response => {\n                this.setProjectCreateDialogShow(false)\n                this.$Message.error({\n                  content: '创建项目失败，请联系管理员或者重试',\n                  duration: 10\n                })\n              })\n\n            }\n          })\n        },\n        cancel () {\n          this.setProjectCreateDialogShow(false)\n        },\n      },\n    created () {\n      this.$axios.get('/api/common/dicconfig/5/dicconfigs').then(response => {\n        this.platforms=response.data.result\n      }, response => {\n        // error callback\n      })\n\n      this.$axios.get('/api/common/users/list').then(response => {\n        this.userList=response.data.result\n      }, response => {\n        // error callback\n      })\n\n      this.$axios.get('/api/project/products').then(response => {\n        this.products=response.data.result\n      }, response => {\n        // error callback\n      })\n\n    },\n    mounted () {\n\n    },\n    watch: {\n\n    },\n    components: {\n      FormItem\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/project/ProjectCreateDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{attrs:{\"value\":_vm.projectCreateDialogShow,\"title\":\"添加新项目\",\"width\":600,\"styles\":{bottom:'20px',top: '50px'}},on:{\"on-ok\":_vm.addProject,\"on-cancel\":_vm.cancel}},[_c('div',{style:('height:' + _vm.containerHeight + 'px;overflow-y: scroll;overflow-x: hidden')},[_c('Form',{ref:\"projectCreate\",attrs:{\"model\":_vm.formItem,\"label-width\":80,\"rules\":_vm.ruleCustom}},[_c('FormItem',{attrs:{\"label\":\"项目名称\",\"prop\":\"PBTitle\"}},[_c('Input',{attrs:{\"placeholder\":\"项目名称1-50个字符\"},model:{value:(_vm.formItem.PBTitle),callback:function ($$v) {_vm.$set(_vm.formItem, \"PBTitle\", $$v)},expression:\"formItem.PBTitle\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"项目Key\",\"prop\":\"PBKey\"}},[_c('Input',{attrs:{\"placeholder\":\"项目唯一标示，1-10英文字符\"},model:{value:(_vm.formItem.PBKey),callback:function ($$v) {_vm.$set(_vm.formItem, \"PBKey\", $$v)},expression:\"formItem.PBKey\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"平台\",\"prop\":\"PBPlatform\"}},[_c('Select',{attrs:{\"filterable\":true,\"placeholder\":\"项目平台\"},model:{value:(_vm.formItem.PBPlatform),callback:function ($$v) {_vm.$set(_vm.formItem, \"PBPlatform\", $$v)},expression:\"formItem.PBPlatform\"}},_vm._l((_vm.platforms),function(platform){return _c('Option',{key:platform.id,attrs:{\"value\":platform.DicDataValue}},[_vm._v(_vm._s(platform.DicDataName))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"负责人\",\"prop\":\"PBLead\"}},[_c('Select',{attrs:{\"filterable\":true,\"placeholder\":\"项目负责人\"},model:{value:(_vm.formItem.PBLead),callback:function ($$v) {_vm.$set(_vm.formItem, \"PBLead\", $$v)},expression:\"formItem.PBLead\"}},_vm._l((_vm.userList),function(user){return _c('Option',{key:user.id,attrs:{\"value\":user.id}},[_vm._v(_vm._s(user.last_name)+_vm._s(user.first_name)+\" (\"+_vm._s(user.email)+\")\")])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"产品线\",\"prop\":\"Product\"}},[_c('Select',{attrs:{\"filterable\":true,\"placeholder\":\"任务类型\"},model:{value:(_vm.formItem.Product),callback:function ($$v) {_vm.$set(_vm.formItem, \"Product\", $$v)},expression:\"formItem.Product\"}},_vm._l((_vm.products),function(product){return _c('Option',{key:product.id,attrs:{\"value\":product.id}},[_vm._v(_vm._s(product.PTitle))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"可见性\",\"prop\":\"PBVisiableLevel\"}},[_c('Row',[_c('Col',{attrs:{\"span\":\"8\",\"offset\":\"0\"}},[_c('RadioGroup',{attrs:{\"vertical\":\"\"},model:{value:(_vm.formItem.PBVisiableLevel),callback:function ($$v) {_vm.$set(_vm.formItem, \"PBVisiableLevel\", $$v)},expression:\"formItem.PBVisiableLevel\"}},[_c('Radio',{attrs:{\"label\":1}},[_c('Icon',{attrs:{\"type\":\"locked\",\"size\":20}}),_vm._v(\" \"),_c('span',[_vm._v(\"私有\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#737373\",\"padding-left\":\"20px\"}},[_vm._v(\"项目仅自己可见\")])],1),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":2}},[_c('Icon',{attrs:{\"type\":\"contrast\",\"size\":20}}),_vm._v(\" \"),_c('span',[_vm._v(\"内部\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#737373\",\"padding-left\":\"20px\"}},[_vm._v(\"项目可以被同组成员看到\")])],1),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":3}},[_c('Icon',{attrs:{\"type\":\"ios-world\",\"size\":20}}),_vm._v(\" \"),_c('span',[_vm._v(\"公开\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#737373\",\"padding-left\":\"20px\"}},[_vm._v(\"项目对所有人员可见\")])],1)],1)],1)],1)],1)],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.projectCreateDialogShow)?_c('Button',{staticStyle:{\"width\":\"80px\",\"height\":\"30px\"},attrs:{\"type\":\"success\",\"shape\":\"circle\"},on:{\"click\":function($event){_vm.addProject('projectCreate')}}},[_vm._v(\"添加\")]):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d9d221ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/project/ProjectCreateDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d9d221ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProjectCreateDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectCreateDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectCreateDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d9d221ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProjectCreateDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d9d221ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/project/ProjectCreateDialog.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"layout-content portal-list-container\" :style=\"'height:'+ projectContainerHeight +'px;'+' overflow-y: scroll'\">\n        <Card   v-for=\"project in myProjectList\" v-if=\"project.Display\" :key=\"project.id\" style=\" width:230px;height:180px;float:left;margin:20px;\" :bordered=\"false\">\n          <div style=\"text-align:center;height:110px;\">\n            <a :href=\"'/project/'+ project.id +'/issue/all'\">\n              <img :src=\"'' + project.PBAvatar\" class=\"project_icon\">\n            </a>\n          </div>\n          <div><div style=\"padding-top: 10px;color:#333;text-align: center\">{{ project.PBTitle }}</div></div>\n        </Card>\n        <project-create-dialog></project-create-dialog>\n  </div>\n</template>\n\n<script>\n  import store from '../../store/index.js'\n  import { mapGetters,mapMutations} from 'vuex'\n  import ProjectCreateDialog from './ProjectCreateDialog.vue'\n\n  export default {\n    name: 'projectList',\n    data () {\n      return {\n        myProject:[]\n      }\n    },\n    computed: {\n      ...mapGetters(['appBodyHeight']),\n      ...mapGetters('project',['projectSearchKey','projectAdded']),\n      projectContainerHeight: function () {\n        return this.appBodyHeight\n      },\n      myProjectList: function () {\n        if(this.projectSearchKey === '')\n        {\n           this.initProjectDisplayStatus()\n        }\n        else{\n           this.filterProjectList(this.projectSearchKey)\n        }\n\n        if(this.projectAdded)\n        {\n          this.loadProjectList()\n          this.setProjectAdded(false)\n        }\n        return this.myProject\n      }\n    },\n    methods: {\n      ...mapMutations('project', ['setProjectAdded']),\n\n      filterProjectList: function (value) {\n        this.initProjectDisplayStatus()\n        for(let i=0; i<this.myProject.length;i++)\n        {\n          let temp = this.myProject[i]\n          if(temp.PBTitle.toUpperCase().indexOf(value.toUpperCase())<0)\n          {\n            temp.Display = false\n          }\n        }\n      },\n      initProjectDisplayStatus: function () {\n        for(let i=0; i<this.myProject.length;i++)\n        {\n          this.myProject[i].Display = true\n        }\n      },\n\n      loadProjectList: function () {\n        this.$axios.get('/api/project/list?extinfo=0&my=1').then(response => {\n          this.myProject = response.data.result\n        }, response => {\n          this.setTaskChange(true)\n\n        })\n      }\n    },\n    created: function () {\n     this.loadProjectList()\n\n    },\n    components: {ProjectCreateDialog}\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"less\">\n  @import \"../../../src/assets/teamcat/global/less/common_controlls\";\n\n  .project_icon\n  {\n    width:80%;\n    height:80px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/project/ProjectList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout-content portal-list-container\",style:('height:'+ _vm.projectContainerHeight +'px;'+' overflow-y: scroll')},[_vm._l((_vm.myProjectList),function(project){return (project.Display)?_c('Card',{key:project.id,staticStyle:{\"width\":\"230px\",\"height\":\"180px\",\"float\":\"left\",\"margin\":\"20px\"},attrs:{\"bordered\":false}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"height\":\"110px\"}},[_c('a',{attrs:{\"href\":'/project/'+ project.id +'/issue/all'}},[_c('img',{staticClass:\"project_icon\",attrs:{\"src\":'' + project.PBAvatar}})])]),_vm._v(\" \"),_c('div',[_c('div',{staticStyle:{\"padding-top\":\"10px\",\"color\":\"#333\",\"text-align\":\"center\"}},[_vm._v(_vm._s(project.PBTitle))])])]):_vm._e()}),_vm._v(\" \"),_c('project-create-dialog')],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-704b621e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/project/ProjectList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-704b621e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProjectList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProjectList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-704b621e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProjectList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-704b621e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/project/ProjectList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}